[gd_scene load_steps=14 format=3 uid="uid://bdka6oxl4bhmn"]

[ext_resource type="PackedScene" uid="uid://b6qtlu8r47u1t" path="res://Levels/future.tscn" id="1_0jmtq"]
[ext_resource type="Script" path="res://Levels/GenericLevel.gd" id="1_4njmc"]
[ext_resource type="FontFile" uid="uid://by1k102hd7hkp" path="res://fonts/Pixellari.ttf" id="3_q6hlr"]
[ext_resource type="PackedScene" uid="uid://bnnu8y3oqv6pi" path="res://Universal_Scenes/OutOfBounds.tscn" id="4_by1xf"]
[ext_resource type="Script" path="res://Levels/DamageSlider.gd" id="5_x8m4r"]
[ext_resource type="PackedScene" uid="uid://dm80pcxu7kvcx" path="res://Universal_Scenes/UI/Button.tscn" id="7_dnhoe"]
[ext_resource type="Script" path="res://Levels/PositionTracker.gd" id="8_l6tpw"]
[ext_resource type="PackedScene" uid="uid://c5s048qamwl8p" path="res://Universal_Scenes/Interactables/Checkpoint.tscn" id="9_nssps"]
[ext_resource type="PackedScene" uid="uid://cmcurlpklixd" path="res://Levels/Past.tscn" id="10_m2kjc"]
[ext_resource type="PackedScene" uid="uid://bsn3xf0byil13" path="res://Enemy/Darkstalker.tscn" id="11_5rhjd"]
[ext_resource type="PackedScene" uid="uid://c1qqqb8ugmyry" path="res://Universal_Scenes/Interactables/switch.tscn" id="11_wnuvr"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2061p"]
size = Vector2(80, 26)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8dvi6"]
size = Vector2(10960, 20.8385)

[node name="Training" type="Node2D"]
script = ExtResource("1_4njmc")
metadata/_edit_horizontal_guides_ = []

[node name="Future" parent="." instance=ExtResource("1_0jmtq")]
position = Vector2(0, 1)
layer_0/tile_data = PackedInt32Array(-589818, 262144, 7, -589810, 262144, 7, -589802, 262144, 7, -589794, 262144, 7, -589786, 262144, 7, -589778, 262144, 7, -589770, 262144, 7, -589762, 262144, 7, -589754, 262144, 7, -589746, 262144, 7, -589738, 262144, 7, -589730, 262144, 7, -589722, 262144, 7, -589714, 262144, 7, -589706, 262144, 7, -589698, 262144, 7, -589690, 262144, 7, -589682, 262144, 7, -589674, 262144, 7, -589666, 262144, 7, -589658, 262144, 7, -589650, 262144, 7, -589640, 262144, 7, -589630, 262144, 7, -589620, 262144, 7, -589610, 262144, 7, -589600, 262144, 7, -589590, 262144, 7, -589580, 262144, 7, -589570, 262144, 7, -589560, 262144, 7, -589550, 262144, 7, -589540, 262144, 7, -2949180, 0, 7, -2621490, 0, 7, -2293800, 0, 7, -1966110, 0, 7, -1638420, 0, 7, -1310730, 0, 7, -1048576, 0, 7, -3276870, 0, 7, -3604560, 0, 7, -6226080, 0, 7, -5898390, 0, 7, -5570700, 0, 7, -5243010, 0, 7, -4915320, 0, 7, -4587630, 0, 7, -4259940, 0, 7, -3932250, 0, 7, -11469120, 0, 7, -11141430, 0, 7, -10813740, 0, 7, -10486050, 0, 7, -10158360, 0, 7, -9830670, 0, 7, -9502980, 0, 7, -9175290, 0, 7, -8847600, 0, 7, -8519910, 0, 7, -8192220, 0, 7, -7864530, 0, 7, -7536840, 0, 7, -7209150, 0, 7, -6881460, 0, 7, -6553770, 0, 7, -22282890, 0, 7, -21955200, 0, 7, -21627510, 0, 7, -21299820, 0, 7, -20972130, 0, 7, -20644440, 0, 7, -20316750, 0, 7, -19989060, 0, 7, -19661370, 0, 7, -19333680, 0, 7, -19005990, 0, 7, -18678300, 0, 7, -18350610, 0, 7, -18022920, 0, 7, -17695230, 0, 7, -17367540, 0, 7, -17039850, 0, 7, -16712160, 0, 7, -16384470, 0, 7, -16056780, 0, 7, -15729090, 0, 7, -15401400, 0, 7, -15073710, 0, 7, -14746020, 0, 7, -14418330, 0, 7, -14090640, 0, 7, -13762950, 0, 7, -13435260, 0, 7, -13107570, 0, 7, -12779880, 0, 7, -12452190, 0, 7, -12124500, 0, 7, -11796810, 0, 7, -43582740, 0, 7, -43255050, 0, 7, -42927360, 0, 7, -42599670, 0, 7, -42271980, 0, 7, -41944290, 0, 7, -41616600, 0, 7, -41288910, 0, 7, -40961220, 0, 7, -40633530, 0, 7, -40305840, 0, 7, -39978150, 0, 7, -39650460, 0, 7, -39322770, 0, 7, -38995080, 0, 7, -38667390, 0, 7, -38339700, 0, 7, -38012010, 0, 7, -37684320, 0, 7, -37356630, 0, 7, -37028940, 0, 7, -36701250, 0, 7, -36373560, 0, 7, -36045870, 0, 7, -35718180, 0, 7, -35390490, 0, 7, -35062800, 0, 7, -34735110, 0, 7, -34407420, 0, 7, -34079730, 0, 7, -33752040, 0, 7, -33424350, 0, 7, -33096660, 0, 7, -32768970, 0, 7, -32441280, 0, 7, -32113590, 0, 7, -31785900, 0, 7, -31458210, 0, 7, -31130520, 0, 7, -30802830, 0, 7, -30475140, 0, 7, -30147450, 0, 7, -29819760, 0, 7, -29492070, 0, 7, -29164380, 0, 7, -28836690, 0, 7, -28509000, 0, 7, -28181310, 0, 7, -27853620, 0, 7, -27525930, 0, 7, -27198240, 0, 7, -26870550, 0, 7, -26542860, 0, 7, -26215170, 0, 7, -25887480, 0, 7, -25559790, 0, 7, -25232100, 0, 7, -24904410, 0, 7, -24576720, 0, 7, -24249030, 0, 7, -23921340, 0, 7, -23593650, 0, 7, -23265960, 0, 7, -22938270, 0, 7, -22610580, 0, 7, -44107036, 327680, 5, -44434716, 327680, 5, -44762396, 327680, 5, -45090076, 327680, 5, -45417756, 327680, 5, -1638210, 2, 9, -2359095, 65538, 9, -2096948, 196610, 12, -917491, 327682, 11, -917477, 327682, 11, -917462, 327682, 11, -917447, 327682, 11, -917432, 327682, 11, -917418, 327682, 11, -917403, 327682, 11, -917388, 327682, 11, -917373, 327682, 11, -917359, 327682, 11, -917344, 327682, 11, -917329, 327682, 11, -917314, 327682, 11, -917300, 327682, 11, -917285, 327682, 11, -917270, 327682, 11, -917255, 327682, 11, -917241, 327682, 11, -917226, 327682, 11, -1441692, 2, 5, -1113999, 196610, 0, -1310709, 2, 2, -1506858, 262144, 7, -1506848, 262144, 7, -1506838, 262144, 7, -1506828, 262144, 7, -1506818, 262144, 7, -1506808, 262144, 7, -1506798, 262144, 7, -1506788, 262144, 7, -1506778, 262144, 7, -1506768, 262144, 7, -2817448, 262144, 7, -2817438, 262144, 7, -2817428, 262144, 7, -2817418, 262144, 7, -2817408, 262144, 7, -2817398, 262144, 7, -2817388, 262144, 7, -2817378, 262144, 7, -2817368, 262144, 7, -2817358, 262144, 7, -2817348, 262144, 7, -2817338, 262144, 7, -2817328, 262144, 7, -2817318, 262144, 7, -2817308, 262144, 7, -2817298, 262144, 7, -2817288, 262144, 7, -917211, 327682, 11, -589530, 262144, 7, -589520, 262144, 7, -917196, 327682, 11, -589510, 262144, 7, -1769104, 131072, 4, -2621025, 131072, 4, -1506868, 262144, 7, -4259050, 262144, 7, -4259040, 262144, 7, -4259030, 262144, 7, -4259020, 262144, 7, -4259010, 262144, 7, -4259000, 262144, 7, -4258990, 262144, 7, -4258980, 262144, 7, -4258970, 262144, 7, -4258960, 262144, 7, -4258950, 262144, 7, -4258940, 262144, 7, -4258930, 262144, 7, -4258920, 262144, 7, -4258910, 262144, 7, -4258900, 262144, 7, -4258890, 262144, 7, -4258880, 262144, 7, -9173995, 131072, 4, -9173979, 131072, 4, -9173963, 131072, 4, -9173947, 131072, 4, -9173931, 131072, 4, -9698349, 327680, 6, -9370669, 327680, 6, -9042989, 327680, 6, -8715309, 327680, 6, -8387629, 327680, 6, -8059949, 327680, 6, -7732269, 327680, 6, -7404589, 327680, 6, -7076909, 327680, 6, -6749229, 327680, 6, -6421549, 327680, 6, -6093869, 327680, 6, -7797786, 327680, 5, -7470106, 327680, 5, -7142426, 327680, 5, -6814746, 327680, 5, -6487066, 327680, 5, -6159386, 327680, 5, -5831706, 327680, 5, -5504026, 327680, 5, -5176346, 327680, 5, -4848666, 327680, 5, -9174011, 131072, 4, -9174027, 131072, 4)

[node name="Past" parent="." instance=ExtResource("10_m2kjc")]
layer_0/tile_data = PackedInt32Array(-3080175, 524288, 0, -3080170, 196608, 0, -3080165, 196608, 0, -3080161, 655360, 0, -3145656, 917504, 3, -3145640, 917504, 3, -3145624, 917504, 3, -3604415, 851968, 3, -3604369, 851968, 65539, -4652945, 851968, 65539, -4652991, 851968, 3)

[node name="BGM" type="AudioStreamPlayer" parent="."]
bus = &"Music"

[node name="BoundaryText" type="Label" parent="."]
offset_left = 379.0
offset_top = -145.0
offset_right = 466.0
offset_bottom = -122.0
theme_override_fonts/font = ExtResource("3_q6hlr")
text = "Damage Box"

[node name="Message" type="Label" parent="."]
offset_left = 60.0
offset_top = -284.0
offset_right = 147.0
offset_bottom = -261.0
theme_override_fonts/font = ExtResource("3_q6hlr")
text = "Training Level WIP, getting overhauled"

[node name="Label2" type="Label" parent="."]
offset_left = 258.0
offset_top = -123.0
offset_right = 352.0
offset_bottom = -100.0
theme_override_fonts/font = ExtResource("3_q6hlr")
text = "Box Spawner"

[node name="DamageBox" parent="." instance=ExtResource("4_by1xf")]
position = Vector2(423, -116)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="DamageBox"]
shape = SubResource("RectangleShape2D_2061p")

[node name="DamageSlider" type="HSlider" parent="."]
offset_left = 375.0
offset_top = -169.0
offset_right = 465.0
offset_bottom = -153.0
rounded = true
scrollable = false
script = ExtResource("5_x8m4r")
disabled_color = Color(1, 0, 0, 1)
enabled_color = Color(0, 0.8, 1, 1)

[node name="SpawnPoint" type="Node2D" parent="."]
position = Vector2(1243.39, -232.84)

[node name="BoxSpawnPoint" type="Node2D" parent="."]
visible = false
position = Vector2(194.446, -103.021)

[node name="SpawnBox" parent="." instance=ExtResource("7_dnhoe")]
offset_left = 282.0
offset_top = -177.0
offset_right = 331.0
offset_bottom = -159.0
text = "Spawn"

[node name="ClearBox" parent="." instance=ExtResource("7_dnhoe")]
offset_left = 282.0
offset_top = -159.0
offset_right = 331.0
offset_bottom = -141.0
text = "Clear"

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="PositionTracker" type="Label" parent="CanvasLayer"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -20.0
offset_top = -23.0
offset_right = 20.0
grow_horizontal = 2
grow_vertical = 0
theme_override_fonts/font = ExtResource("3_q6hlr")
theme_override_font_sizes/font_size = 34
text = "Position: (0, -20140)"
script = ExtResource("8_l6tpw")

[node name="Timer" type="Timer" parent="CanvasLayer"]
wait_time = 3.0
one_shot = true
autostart = true

[node name="OutOfBounds" parent="." instance=ExtResource("4_by1xf")]
position = Vector2(425, -3)
damage = 10

[node name="CollisionShape2D" type="CollisionShape2D" parent="OutOfBounds"]
position = Vector2(-397.849, 37.4974)
shape = SubResource("RectangleShape2D_8dvi6")

[node name="Checkpoint" parent="." instance=ExtResource("9_nssps")]
position = Vector2(635, -54)

[node name="CheckButton" type="CheckButton" parent="."]
offset_left = 401.0
offset_top = -197.0
offset_right = 445.0
offset_bottom = -173.0

[node name="Switch" parent="." node_paths=PackedStringArray("level") instance=ExtResource("11_wnuvr")]
position = Vector2(72.4373, -147.323)
timeline = "Past"
level = NodePath("..")

[node name="Darkstalker" parent="." instance=ExtResource("11_5rhjd")]
position = Vector2(1446.26, -100.232)

[connection signal="value_changed" from="DamageSlider" to="DamageSlider" method="_on_value_changed"]
[connection signal="pressed" from="SpawnBox" to="." method="_on_spawner_pressed"]
[connection signal="pressed" from="ClearBox" to="." method="_on_clear_box_pressed"]
[connection signal="timeout" from="CanvasLayer/Timer" to="CanvasLayer/PositionTracker" method="_on_timer_timeout"]
[connection signal="toggled" from="CheckButton" to="DamageSlider" method="_on_check_button_toggled"]
